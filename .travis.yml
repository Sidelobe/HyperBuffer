# Travis configuration file for HyperBuffer
dist: trusty
language:
    - cpp
common_sources: &all_sources
    - ubuntu-toolchain-r-test
    - llvm-toolchain-trusty
matrix:
    include:
        - os: osx
          osx_image: xcode9.1
          compiler: clang
          env: COMPILER='clang++'
          
        - os: linux
          compiler: gcc
          addons: &gcc8
              apt:
                sources: *all_sources
                packages: ['g++-8']
          env: COMPILER='g++-8'
         
script:
    # Export CXX to tell cmake which compiler to use
    - export CXX=${COMPILER}
    - export CPP_STANDARD=14
    # Check versions
    - cmake --version
    # Run your build commands next
    - cd deploy
    - mkdir -p build
    - cd build
    - cmake ../.. -DCMAKE_BUILD_TYPE=Debug
    - make
    - ./HyperBufferTest
