# Travis configuration file for HyperBuffer
dist: trusty
language:
    - cpp
compiler:
    - clang
    - gcc
common_sources: &all_sources
    - ubuntu-toolchain-r-test
    - llvm-toolchain-trusty
matrix:
    include:
        - os: osx
          osx_image: xcode9.1
          compiler: clang
          env: COMPILER='clang++'
          
        - os: linux
          compiler: gcc
          addons: *gcc8
          env: COMPILER='g++-8'
script:
  # Export CXX to tell cmake which compiler to use
  - export CXX=${COMPILER}
  - export CPP_STANDARD=14
  # Link clang and g++ to their standard commands
  - ln -s /usr/bin/g++ /usr/local/bin/g++
  - ln -s /usr/bin/g++ /usr/local/bin/g++

  # Check versions of g++ and cmake
  - g++ -v && cmake --version
  # Run your build commands next

  - cd deploy
  - mkdir -p build
  - cd build
  - cmake ../..
  - make
  - ./HyperBufferTest
